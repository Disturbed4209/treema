<html>
<head>
  <script type="text/javascript" src="jquery-1.8.1.js"></script>
  <script type="text/javascript" src="jquery-ui-1.10.3.custom.js"></script>
  <script type="text/javascript" src="tv4.js"></script>
  <script type="text/javascript" src="treema.js"></script>
  <link rel="stylesheet" href="treema.css">
  <link rel="stylesheet" href="jquery-ui-1.10.3.custom.css">
</head>
<body>

<h1>Test</h1>

<div id="test-area">
  
</div>

<script type="text/javascript">

  var jade = {};
  $(document).ready(function () {
    data = {
      'locality': 'Berkeley',
      'region': 'California',
      'country-name': 'USA',
      'postal-code': 94703,
      'is-home-address': true,
      'phone-numbers': ['1-800-938-3000', '1-234-567-8900 x1337'],
      'post-office-box': null,
      'extended-address': {1:2},
      'coords1': {x:52, y:98},
      'coords2': {x:52, y:98, z:100},
      'street-address': '2338 1/2 Roosevelt Ave'
    };
    schema = {
      "additionalProperties": false,
      "description": "An Address following the convention of http://microformats.org/wiki/hcard",
      "type": "object",
      "properties": {
        "coords1": { type: 'object', format: 'point2d' } ,
        "coords2": { type: 'object', format: 'point3d' } ,
        "post-office-box": { title: "PO Box", type: ['null', 'string'] },
        "street-address": { title: "Address 1", description: "Don't forget the number." },
        "extended-address": { title: "Address 2" },
        "locality":{ "type": "string", title: "Locality", 'default': 'Berkeley', minLength:2 },
        "region": { 'title': 'Region', type: 'string', 'default': 'California' },
        "postal-code": { "type": "number", title: "Zip Code", minimum:10000, maximum: 99999 },
        "country-name": { "type": "string", title: "Country", 'default': 'USA', enum:['USA', 'Mars'] },
        "is-home-address": { type: 'boolean', title: "Is Home" },
        "phone-numbers": { "type": "array", items: { type: "string", maxLength: 20, minLength:4 }, title: "Phone #s" }
      },
      "required": ['locality', 'region', 'country-name', 'postal-code'],
      "dependencies": {
        "post-office-box": "street-address",
        "extended-address": "street-address"
      }
    };

    treema = makeTreema(schema, data);
    $('#test-area').append(treema.build())
    window.treema = treema
  });
  
</script>

</body>
</html>