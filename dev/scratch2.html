<html>
<head>
  <script type="text/javascript" src="js/vendor/jquery-1.8.1.js"></script>
  <script type="text/javascript" src="js/vendor/jquery-ui-1.10.3.custom.js"></script>
  <script type="text/javascript" src="js/vendor/tv4.js"></script>
  <script type="text/javascript" src="js/vendor/ace.js"></script>
  <script type="text/javascript" src="js/vendor/bootstrap.min.js"></script>

  <script type="text/javascript" src="js/treema.js"></script>

  <link rel="stylesheet" href="css/vendor/jquery-ui-1.10.3.custom.css">
  <link rel="stylesheet" href="css/vendor/bootstrap.min.css" media="screen">

  <link rel="stylesheet" href="css/treema.css">
  <link rel="stylesheet" href="css/base.css">

</head>
<body>

<div id="content">

  <h1>Try Things Out Here</h1>

  <h3>Generate a JSON-Schema</h3>
  
  <hr />
  
  <div id="scratch"></div>

</div>

<script type="text/javascript">

var jade = {};
$(document).ready(function () {
  var schema = {
    type: 'array',
    items: [{}]
  };

  var schema_schema = {
    "id": "http://json-schema.org/draft-04/schema#",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Schema",
    "description": "Core schema meta-schema",
    "definitions": {
      "schemaArray": {
        "type": "array",
        "minItems": 1,
        "items": { "$ref": "http://json-schema.org/draft-04/schema#" },
        "title": "Array of Schemas",
        "default": [{}]
      },
      "positiveInteger": {
        "type": "integer",
        "minimum": 0,
        "title": "Positive Integer"
      },
      "positiveIntegerDefault0": {
        "allOf": [ { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveInteger" }, { "default": 0 } ]
      },
      "simpleTypes": {
        title: "Single Type",
        "enum": [ "array", "boolean", "integer", "null", "number", "object", "string" ]
      },
      "stringArray": {
        "type": "array",
        "items": { "type": "string" },
        "minItems": 1,
        "uniqueItems": true,
        title: "String Array"
      }
    },
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "format": "uri"
      },
      "$schema": {
        "type": "string",
        "format": "uri"
      },
      "title": {
        "type": "string"
      },
      "description": {
        "type": "string"
      },
      "default": {},
      "multipleOf": {
        "type": "number",
        "minimum": 0,
        "exclusiveMinimum": true
      },
      "maximum": {
        "type": "number"
      },
      "exclusiveMaximum": {
        "type": "boolean",
        "default": false
      },
      "minimum": {
        "type": "number"
      },
      "exclusiveMinimum": {
        "type": "boolean",
        "default": false
      },
      "maxLength": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveInteger" },
      "minLength": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0" },
      "pattern": {
        "type": "string",
        "format": "regex"
      },
      "additionalItems": {
        "anyOf": [
          { "type": "boolean" },
          { "$ref": "http://json-schema.org/draft-04/schema#" }
        ],
        "default": {}
      },
      "items": {
        "anyOf": [
          { "$ref": "http://json-schema.org/draft-04/schema#" },
          { "$ref": "http://json-schema.org/draft-04/schema#/definitions/schemaArray" }
        ],
        "default": {}
      },
      "maxItems": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveInteger" },
      "minItems": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0" },
      "uniqueItems": {
        "type": "boolean",
        "default": false
      },
      "maxProperties": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveInteger" },
      "minProperties": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0" },
      "required": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/stringArray" },
      "additionalProperties": {
        "anyOf": [
          { "type": "boolean" },
          { "$ref": "http://json-schema.org/draft-04/schema#" }
        ],
        "default": {}
      },
      "definitions": {
        "type": "object",
        "additionalProperties": { "$ref": "http://json-schema.org/draft-04/schema#" },
        "default": {}
      },
      "properties": {
        "type": "object",
        "additionalProperties": { "$ref": "http://json-schema.org/draft-04/schema#" },
        "default": {}
      },
      "patternProperties": {
        "type": "object",
        "additionalProperties": { "$ref": "http://json-schema.org/draft-04/schema#" },
        "default": {}
      },
      "dependencies": {
        "type": "object",
        "additionalProperties": {
          "anyOf": [
            { "$ref": "http://json-schema.org/draft-04/schema#" },
            { "$ref": "http://json-schema.org/draft-04/schema#/definitions/stringArray" }
          ]
        }
      },
      "enum": {
        "type": "array",
        "minItems": 1,
        "uniqueItems": true
      },
      "type": {
        "anyOf": [
          { "$ref": "http://json-schema.org/draft-04/schema#/definitions/simpleTypes" },
          {
            "type": "array",
            "items": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/simpleTypes" },
            "minItems": 1,
            "uniqueItems": true,
            "title": "Array of Types"
          }
        ]
      },
      "allOf": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/schemaArray" },
      "anyOf": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/schemaArray" },
      "oneOf": { "$ref": "http://json-schema.org/draft-04/schema#/definitions/schemaArray" },
      "not": { "$ref": "http://json-schema.org/draft-04/schema#" }
    },
    "dependencies": {
      "exclusiveMaximum": [ "maximum" ],
      "exclusiveMinimum": [ "minimum" ]
    },
    "default": {}
  };

  var el = $('#scratch');
  var options = {schema:schema_schema, data:schema};
  var treema = el.treema(options);
  treema.build();
  window.treema = treema
});

</script>

</body>
</html>